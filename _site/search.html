<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>Search | haircut</title>
	<meta name="description" content="A website with blog posts and pages">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/search">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="haircut" href="/feed.xml" />

	<!-- Font Awesome -->
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	

	<!-- Google Analytics -->
	
</head>

  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.png" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">haircut</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			<li>
				<a class="page-link" href="/tags">
					tags
				</a>
			</li>
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			














<li>
	<a href="https://github.com/haircut" title="Follow on GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>























<li>
	<a href="https://twitter.com/twitter" title="Follow on Twitter">
		<i class="fa fa-fw fa-twitter"></i>
	</a>
</li>






            
            <!-- Search bar -->
            
		</ul>
	</nav>
    
</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">Search</h1>
    
  </header>
  <section class="post-content"><div class="search">
    <div id="search-results"></div>
    <p id="not-found" style="display: none">
        No results found.
    </p>
</div>


<script>
  window.store = {
    
      "how-to-manage-filevault-recovery-key-escrow-html": {
        "title": "How to Manage FileVault Recovery Key Escrow",
        "tags": "profiles, filevault, high-sierra",
        "date": "September 14, 2017",
        "author": "",
        "category": "",
        "content": "The Jamf Pro GUI allows you to automatically set up the necessary payloads to manage the FDE Recovery Key Escrow process for macOS 10.13+.However, the settings reside in the “Security &amp; Privacy” grouping within the Jamf Pro GUI, forcing you to manage settings other than those related to recovery key escrow. Using the default Jamf-provided GUI, you may inadvertently lock your users out of being able to make changes to the firewall, analytics settings, screen saver password requirement, etc.You can upload a custom profile to the Jamf Pro Server that manages only FDE Recover Key Escrow preferences, but it takes a little work.You’ll also need to sign your resultant configuration profile to prevent the Jamf Pro Server from manipulating its contents or preventing deployment. You can use an Apple Developer certificate, or your Jamf Pro Server’s CA (if self signed).      Create a temporary configuration profile for doing this setup. Name it something disposable – you’ll delete it when done. “TEMP - FDERKE Setup” works. Set the level to “Computer level.” Make sure you do not add a scope to the profile; we’re not deploying it.    Click the “Security &amp; Privacy” group, then click “Configure.” Select the “FileVault” tab. Apply these preferences:          Check the box for Enable Escrow Personal Recovery Key      Escrow Location Description: Describe where the recovery key is being shipped. This is visible to the end-user, so “My Company IT” or whatever is appropriate. We’ll edit this elsewhere, so you can leave it blank.      Device Key for Escrowed FileVault Recovery Key: Text displayed at the FileVault unlock screen when a user has apparently forgotten their password. Despite the help text, you should leave this blank. By default it will be replaced with the device’s serial number which will aid your technicians in recovering the correct key.      Personal Recovery Key Encryption Certificate: Set to “Automatically encrypt and decrypt recovery key.”            Save the profile, then click the “Download” button.    Next we’ll convert the profile to a useable format. In Terminal, run these commands:openssl smime -inform DER -verify -in /path/to/downloaded/profile.mobileconfig -noverify -out /path/to/de-signed.mobileconfigplutil -convert xml1 /path/to/de-signed.mobileconfig(lines scroll…)      Copy the template-fde-recovery-key-escrow.mobileconfig included in this gist to a new file in your favorite text editor. Change the values of PayloadOrganization and Location as needed.        Open the de-signed profile originally downloaded from the Jamf Pro Server in your text editor. Find the PayloadContent below PayloadCertificateFileName – it’s the big, obvious block of certificate data. Copy and paste this to the same location in your edited template-fde-recovery-key-escrow.mobileconfig file, making sure you get the indentation correct. Save this file with a suitable name like FileVault Recovery Key Escrow.mobileconfig.        Sign the new profile thusly:  /usr/bin/security cms -S -N \"Common Name of signing certificate in your keychain\" -i /path/to/FileVault\\ Recovery\\ Key Escrow.mobileconfig -o /path/to/Signed-FileVault\\ Recovery\\ Key\\ Escrow.mobileconfig(lines scroll…)      Delete the temporary configuration profile from your Jamf Pro Server.        Upload your completed Signed-FileVault Recovery Key Escrow.mobileconfig profile to your Jamf Pro Server, then set an appropriate scope and deploy it.  Thanks to @opragel for the template/example configuration profile.",
        "url": "//how-to-manage-filevault-recovery-key-escrow.html"
      }
      
    
  };
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/0.7.1/lunr.min.js"></script>
<script src="/assets/js/search.js"></script>
</section>
</article>

    </div>
    


<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


  </body>
</html>
